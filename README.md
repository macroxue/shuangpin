# 双拼评测工具

网上比较流行的双拼评测是基于[击键当量](https://tiansh.github.io/lqbz/sp/)
的，越舒适的键盘布局对应越小的当量。
比如微软双拼的单字当量是13.67，连续当量是13.86。相比较我的UAI优化方案
的单字当量是13.12，连续当量是13.72。击键当量的好处是定量地衡量打字的
舒适程度，但是缺点也很明显，就是这个量很不直观。曾经看到网上有人宣称某个
自定义方案比已有的方案高出几个量级，并给出基于当量的数据是13.11。这就有
夸大其词的嫌疑了，小数点后的变化怎么可能是几个量级的区别呢？要不就是这个
量本身有问题，不利于直观地比较不同的方案。

终于我写了个自认为比较满意的双拼评测工具：
    [https://macroxue.github.io/shuangpin/eval.html]。
这个工具是建立在一个简单的、以时间为基础的击键模型上。不同的手指的灵活
程度，也就是移动和击键的速度，是不一样的。食指最为灵活，中指和无名指次之，
小指最不灵活。每次击键时，手指移动的距离加上按键的深度，再除以手指的速度，
就得到了这次击键的时间。另外模型假定两手交替击键时，第二次击键前的移动
可以和第一次击键完全重叠，因此这样的重叠移动是不计时的，但是向下按键的
动作总是被计时的。

给定一份文稿，把击键的总次数除以击键的总时间，就得到了一个击键速度。这个
速度类似于每分钟打字的速度，可以直观地理解，感性地比较。比如，微软双拼
的速度得分是122.4分，而我的自定义方案是134.8分。好比是一个高手用微软
双拼可以每分钟打122字，而用我的方案可以每分钟打135字。区别就是这么具体，
这么简单，用不着抽象地说哪个方案比哪个方案高几个量级。

# UAI优化双拼方案

![UAI优化双拼方案](https://github.com/macroxue/shuangpin/blob/master/UAI优化/eval.png)

几个假设：
 * 根据习惯，单韵母 a、o、e、i、u、ü 分别固定在 A、O、E、I、U、V 键位。
 * 考虑到美感和易记，ong和iong，iang和uang，ia和ua，ui和ue，都两两分配
在同一个键位上。

从整体布局上看，顶行主要是u族韵母，中间行是高频a族韵母和后鼻音ng族韵母，
底行是低频i族韵母。声母 zh、ch、sh、r、y、w 在顶行，它们和底行的i族韵母
不可拼， 避免了很多跨行击键。

下面是复韵母以使用频率排序：
 * 1~10： an、en、ong/iong、ai、ian、ao、ang、ing、ou、ui/ue,
 * 11~20： eng、ei、uan、iang/uang、in、ia/ua、iao、ie、iu、un,
 * 21~：   er、uai、ng

所有a族韵母 an、ai、ao、ang 都高频常用，所以放在中间行，手指不必离开
原位键就可以轻易击打。

后鼻音韵母 ong、iong、ing、eng 排名靠前，所以也放中间行。iang和uang
不那么常用，放在边上的分号键，这样所有的后鼻音韵母就都在同一行了，
有一定的美感。

排名第五的 ian 常常不被其它方案重视，本方案把它放在an和iang之间，看起来
像一个连续的变化。

排名第二并且放在顶行的en比较特殊。在用的比较多的带en的拼音里只有ben
是异指跨行，其它更高频的ren、men、shen、wen、fen以及更低频的zhen、hen、
chen、gen都很顺手。x和en不可拼，所以en没有同指跨行。

同指跨行击键只有：ce、nu、mu、shei、nuan。前三个不带复韵母，所以不可避免。
第四个是‘谁’的多音字，不常用而且可以用顺手的shui替代。最后一个是‘暖’字，
而且是唯一的发nuan音的字。

助记一：中国男足
 * 球稳着，揉腿。怨输耻，我刎。
 * 阿嫂当锋，硬轰，爱看怜样。
 * 瞎业余，濒尿没？

助记二：儿童不宜
 * 求吻者，柔腿圆，书痴卧闻。
 * 阿嫂荡，丰盈红，爱看怜样。
 * 夏夜语，鬓袅美。

如果分号键不可用，一个替代方案是把ia和ua放Z键，iang和uang放X键。代价是
增加了qia同指跨行和qiang异指跨行，得分从134.8降低到133.6。

# 六六双拼方案

本人曾经使用过一些双拼方案，但每次不用一段时间就记不得了那些韵母的分布，
还得从头拾起。原因很简单，就是绝大多数方案靠的是肌肉记忆，用进废退。
这可能也是双拼不普及的一个原因吧。

于是本人设计了一个极小记忆量的新方案，并认为不可能还有更小记忆量的了。
有了它，忘了就忘了吧，捡起来也就是分分钟的事。下面隆重推出：

![六六双拼方案](https://github.com/macroxue/shuangpin/blob/master/66六六/scheme.jpg)

本方案把键盘划分为六个规整的区域，每个区域最多六键，方案也因此得名。
每个区域内由一个根韵母根据简单而统一的规则派生出其它韵母。十分难得的是，
这个规则没有例外！

比如 a 区的根韵母是 a，右边是 根+i 得 ai，下边是 根+n 得 an，
右下是 根+ng 得 ang，右上是 根+o 得 ao。

再比如 ua 和 ia 共享一个 G 键，ua 是第一根韵母，ia 是第二根韵母。
右边是 根+i 得 uai 因为没有 iai，下边是 第一根+n 得 uan，
右下是 根+ng 得 uang 和 iang，右上是 根+o 得 iao 因为没有 uao，
上边是 第二根+n 得 ian。

共享键位在双拼方案里是不可避免的，因为韵母的数量比英文字母多。下面是
所有共享键位的韵母，其它方案里也有类似的共享。

 * ua 和 ia 共享，派生 ian 在上，uan 在下。
 * er 和 ie 共享。原则上 er 可以和任何一个不可单独成音的韵母共享，
   选择 ie 的目的是把 er 分配在 e 区。
 * ü 和 ui 共享，ue/üe 和 uai 共享， uo 和 o 共享， iong 和 ong 共享，
   都是相似和谐音。

双拼方案百花齐放，本方案独树一帜，最有规律，无需口诀助记。其设计的
唯一的目的是韵母分布的规律性，所以在击键舒适度上可能略逊色于某些方案。

# Linux 安装

 * 安装 fcitx
 * 拷贝 sp.dat 至 ~/.config/fcitx/pinyin 目录下
 * 在 fcitx 配置中选择自定义双拼
